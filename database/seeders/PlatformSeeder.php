<?php

namespace Database\Seeders;

use App\Models\Company;
use App\Models\Platform;
use Illuminate\Database\Seeder;

class PlatformSeeder extends Seeder
{
    public function run()
    {
        // ÐÐ°Ñ…Ð¾Ð´Ð¸Ð¼ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÑŽ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð¿Ð¾ Ð½Ð¾Ð²Ð¾Ð¼Ñƒ Ð˜ÐÐ
        $platformCompany = Company::where('inn', '7716254721')->first();

        if (!$platformCompany) {
            $this->command->error('Platform company not found. Please run CompaniesSeeder first.');
            return;
        }

        try {
            Platform::updateOrCreate(
                ['inn' => '7716254721'],
                [
                    'company_id' => $platformCompany->id,
                    'name' => 'ÐžÐ‘Ð©Ð•Ð¡Ð¢Ð’Ðž Ð¡ ÐžÐ“Ð ÐÐÐ˜Ð§Ð•ÐÐÐžÐ™ ÐžÐ¢Ð’Ð•Ð¢Ð¡Ð¢Ð’Ð•ÐÐÐžÐ¡Ð¢Ð¬Ð® "Ð¤ÐÐŸ"',
                    'short_name' => 'ÐžÐžÐž "Ð¤ÐÐŸ"',
                    'inn' => '7716254721',
                    'kpp' => '771601001',
                    'ogrn' => '1257700474162',
                    'okpo' => '55500712',
                    'okved' => '63.11',
                    'okato' => '45263591000',
                    'certificate_number' => 'Ð¡ÐµÑ€Ð¸Ñ 77 â„–123456789 Ð¾Ñ‚ 01.01.2024',
                    'ceo_basis' => 'Ð£ÑÑ‚Ð°Ð²',

                    'legal_address' => '129344, Ð“.ÐœÐžÐ¡ÐšÐ’Ð, Ð’Ð.Ð¢Ð•Ð .Ð“. ÐœÐ£ÐÐ˜Ð¦Ð˜ÐŸÐÐ›Ð¬ÐÐ«Ð™ ÐžÐšÐ Ð£Ð“ Ð‘ÐÐ‘Ð£Ð¨ÐšÐ˜ÐÐ¡ÐšÐ˜Ð™, Ð£Ð› Ð˜Ð¡ÐšÐ Ð«, Ð”. 31, Ðš. 1, ÐŸÐžÐœÐ•Ð©. 5Ð§',
                    'physical_address' => '129344, Ð“.ÐœÐžÐ¡ÐšÐ’Ð, Ð’Ð.Ð¢Ð•Ð .Ð“. ÐœÐ£ÐÐ˜Ð¦Ð˜ÐŸÐÐ›Ð¬ÐÐ«Ð™ ÐžÐšÐ Ð£Ð“ Ð‘ÐÐ‘Ð£Ð¨ÐšÐ˜ÐÐ¡ÐšÐ˜Ð™, Ð£Ð› Ð˜Ð¡ÐšÐ Ð«, Ð”. 31, Ðš. 1, ÐŸÐžÐœÐ•Ð©. 5Ð§',
                    'post_address' => '129344, Ð“.ÐœÐžÐ¡ÐšÐ’Ð, Ð’Ð.Ð¢Ð•Ð .Ð“. ÐœÐ£ÐÐ˜Ð¦Ð˜ÐŸÐÐ›Ð¬ÐÐ«Ð™ ÐžÐšÐ Ð£Ð“ Ð‘ÐÐ‘Ð£Ð¨ÐšÐ˜ÐÐ¡ÐšÐ˜Ð™, Ð£Ð› Ð˜Ð¡ÐšÐ Ð«, Ð”. 31, Ðš. 1, ÐŸÐžÐœÐ•Ð©. 5Ð§',

                    'bank_name' => 'ÐžÐžÐž "Ð‘Ð°Ð½Ðº Ð¢Ð¾Ñ‡ÐºÐ°"',
                    'bank_city' => 'Ð³. ÐœÐ¾ÑÐºÐ²Ð°',
                    'bic' => '044525104',
                    'correspondent_account' => '30101810745374525104',
                    'settlement_account' => '40702810820000253434',

                    'website' => 'https://fap24.ru',
                    'email' => 'office@fap24.ru',
                    'phone' => '+7 (929) 533-32-06',
                    'additional_phones' => ['+7 (495) 790-90-34'],

                    'ceo_name' => 'ÐÐ»ÐµÑˆÐ¸Ð½ Ð’ÑÑ‡ÐµÑÐ»Ð°Ð² Ð’Ð¸Ñ‚Ð°Ð»ÑŒÐµÐ²Ð¸Ñ‡',
                    'ceo_position' => 'Ð“ÐµÐ½ÐµÑ€Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€',
                    'accountant_name' => 'ÐÐ»ÐµÑˆÐ¸Ð½ Ð’ÑÑ‡ÐµÑÐ»Ð°Ð² Ð’Ð¸Ñ‚Ð°Ð»ÑŒÐµÐ²Ð¸Ñ‡',
                    'accountant_position' => 'Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð±ÑƒÑ…Ð³Ð°Ð»Ñ‚ÐµÑ€',

                    'notes' => 'Ð¤ÐµÐ´ÐµÑ€Ð°Ð»ÑŒÐ½Ð°Ñ ÐÑ€ÐµÐ½Ð´Ð½Ð°Ñ ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° - Ð²Ð°Ñˆ Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€ Ð² Ð°Ñ€ÐµÐ½Ð´Ðµ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸ Ð¿Ð¾ Ð²ÑÐµÐ¹ Ð Ð¾ÑÑÐ¸Ð¸',
                ]
            );

            $this->command->info('âœ… ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð¤ÐÐŸ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð° Ð¸ ÑÐ²ÑÐ·Ð°Ð½Ð° Ñ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÐµÐ¹!');
            $this->command->info('ðŸ“§ Email: office@fap24.ru');
            $this->command->info('ðŸ“ž Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: +7 (929) 533-32-06');
            $this->command->info('ðŸŒ Ð¡Ð°Ð¹Ñ‚: https://fap24.ru');

        } catch (\Exception $e) {
            $this->command->error('âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹: '.$e->getMessage());

            // Ð’Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸
            $this->command->table(
                ['ÐŸÐ¾Ð»Ðµ', 'Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ', 'Ð”Ð»Ð¸Ð½Ð°'],
                [
                    ['correspondent_account', '30101810745374525104', strlen('30101810745374525104')],
                    ['settlement_account', '40702810820000253434', strlen('40702810820000253434')],
                    ['inn', '7716254721', strlen('7716254721')],
                ]
            );
        }
    }
}
