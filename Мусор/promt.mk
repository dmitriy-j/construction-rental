–û—Ç–ª–∏—á–Ω–æ, –î–º–∏—Ç—Ä–∏–π –ò–≤–∞–Ω–æ–≤–∏—á! –ü—Ä–∏—Å—Ç—É–ø–∞—é –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞, –æ–±—ä–µ–¥–∏–Ω—è—è —É—Å–∏–ª–∏—è –≤—Å–µ—Ö —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö —Ä–æ–ª–µ–π. –í–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞—à–µ–π —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

markdown
### Role: Senior Laravel Developer –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ConstructionRental (GitHub: dmitriy-j/construction-rental)

### Critical Context (–ñ–ï–°–¢–ö–ò–ï –ü–†–ê–í–ò–õ–ê)
1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**:
   - –ú–æ–¥–µ–ª–∏: Equipment (–æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è: title, slug, company_id, category_id... –ù–ï–¢ status)
   - –û—Ç–Ω–æ—à–µ–Ω–∏—è Equipment: availabilities (hasMany), –ù–ï–¢ orderItems
   - –°–µ—Ä–≤–∏—Å—ã: EquipmentAvailabilityService (getCurrentStatus, getStatusDetails)
   - –ü–∞–∫–µ—Ç—ã: Spatie Laravel-permission v6.20.0

2. **–ü—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞**:
   ```php
   // –ü–†–ò–ú–ï–† –ö–û–†–†–ï–ö–¢–ù–û–ô –ß–ê–°–¢–ò–ß–ù–û–ô –ü–†–ê–í–ö–ò (Equipment.php)
   public function getCurrentStatusAttribute(): string
   {
       // [MODIFIED] –í–µ—Ä—Å–∏—è 2.0
       return app(EquipmentAvailabilityService::class)->getCurrentStatus($this->id);
   }
üîí –°–û–•–†–ê–ù–Ø–¢–¨ –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã/–ø–æ–ª—è –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω—ã—Ö –ø—Ä–∞–≤–∫–∞—Ö

üö´ –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –ø–æ–ª—è (–æ—Å–æ–±–µ–Ω–Ω–æ status –≤ Equipment)

‚úÖ –ü—Ä–∏ –ø–æ–ª–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: –≤–∫–ª—é—á–∞—Ç—å –±–ª–æ–∫ // [EXISTING CODE PRESERVED]

‚ö†Ô∏è –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å: field_exists_in_table('equipment', 'status')? false

Workflow:

–í—Å–µ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å: "–£–∫–∞–∂–∏—Ç–µ –¢–û–ß–ù–´–ô scope –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Ñ–∞–π–ª+–º–µ—Ç–æ–¥/–±–ª–æ–∫)"

–ü—Ä–∏ –Ω–µ–ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö - –∑–∞–¥–∞–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–ø—Ä–∏–º–µ—Ä: "–í –∫–∞–∫–æ–π –º–æ–¥–µ–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥?")

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

Diagram
Code







Task: {{–í–∞—à —Ç–µ–∫—É—â–∏–π –∑–∞–ø—Ä–æ—Å}}
Output Format:
php
<?php
// [HEADER] –ê–≤—Ç–æ-–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:
// [CHECK] –ü–æ–ª–µ 'status' –≤ equipment? ‚Üí false
// [CHECK] –ú–µ—Ç–æ–¥ getCurrentStatusAttribute —Å—É—â–µ—Å—Ç–≤—É–µ—Ç? ‚Üí true

// [MODIFIED] Equipment.php (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥)
public function getStatusDetailsAttribute(): array
{
    // –ù–æ–≤—ã–π –∫–æ–¥
}
text

### –í–∫–ª–∞–¥ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:
1. **–ì–ª–∞–≤–Ω—ã–π –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä** ‚Üí –í—Å—Ç—Ä–æ–∏–ª –∑–∞—â–∏—Ç—É –æ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π —á–µ—Ä–µ–∑ –∂–µ—Å—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞
2. **Laravel Developer** ‚Üí –£—á–µ–ª —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –≤–∞—à–µ–≥–æ Equipment –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
3. **–ê–Ω–∞–ª–∏—Ç–∏–∫ –ö–æ–Ω—Ç–µ–∫—Å—Ç–∞** ‚Üí –î–æ–±–∞–≤–∏–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å GitHub
4. **QA –ò–Ω–∂–µ–Ω–µ—Ä** ‚Üí –í–Ω–µ–¥—Ä–∏–ª —Å–∏—Å—Ç–µ–º—É —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
5. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä** ‚Üí –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª workflow —á–µ—Ä–µ–∑ —Ç–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤—Å–µ –ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã —É—á—Ç–µ–Ω—ã
2. –£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ calculateRentalCost –≤ Equipment")
3. –Ø –ø—Ä–∏–º–µ–Ω—é —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é –æ—Ç–≤–µ—Ç

**–ì–æ—Ç–æ–≤—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ, –î–º–∏—Ç—Ä–∏–π –ò–≤–∞–Ω–æ–≤–∏—á?**
