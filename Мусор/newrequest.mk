–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∞—Ä–µ–Ω–¥—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏
–¶–µ–ª—å: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ (–ê—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å ‚Üí –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Üí –ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä) —Å –Ω–∞—Ü–µ–Ω–∫–∞–º–∏ –∏ —Å–∫–∏–¥–∫–∞–º–∏

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:

markdown
- Laravel 10.48.29
- PHP 8.1.9
- MySQL
- Sanctum + Spatie Permissions
–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å Platform —Å –ø–æ–ª–Ω—ã–º–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å –Ω–∞—Ü–µ–Ω–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–í–Ω–µ–¥—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫ –¥–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤

–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–æ–¥–µ–ª—å –∑–∞–∫–∞–∑–æ–≤

–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

markdown
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- –ú–æ–¥–µ–ª—å Platform —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ –¥–ª—è –£–ü–î
- –°–µ—Ä–≤–∏—Å PricingService
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–ª—è –≤ –∑–∞–∫–∞–∑–∞—Ö (base_amount, platform_fee –∏ –¥—Ä.)
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ü–µ–Ω–æ–∫ –∏ —Å–∫–∏–¥–æ–∫

üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –£–ü–î
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- –ö–∞–±–∏–Ω–µ—Ç –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è
–ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:

php
// Platform.php
[
    'name', 'inn', 'kpp', 'ogrn', 'okpo', 'okved', 'okato',
    'legal_address', 'physical_address', 'bank_details',
    'ceo_name', 'accountant_name', 'certificate_number'
]

// Order.php
[
    'base_amount',     // –°—É–º–º–∞ –±–µ–∑ –Ω–∞—Ü–µ–Ω–∫–∏ (–∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—é)
    'platform_fee',    // –ù–∞—à–∞ –Ω–∞—Ü–µ–Ω–∫–∞
    'discount_amount', // –°–∫–∏–¥–∫–∞ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞
    'lessor_payout',   // –ò—Ç–æ–≥–æ–≤–∞—è –≤—ã–ø–ª–∞—Ç–∞
]

// OrderItem.php
[
    'base_price',      // –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞/–ø–µ—Ä–∏–æ–¥
    'platform_fee',    // –ù–∞—Ü–µ–Ω–∫–∞ –Ω–∞ –ø–æ–∑–∏—Ü–∏—é
    'period_count'     // –ö–æ–ª-–≤–æ –µ–¥–∏–Ω–∏—Ü –∞—Ä–µ–Ω–¥—ã (—á–∞—Å—ã/–¥–Ω–∏)
]
–°–µ—Ä–≤–∏—Å—ã:

php
class PricingService {
    public function calculatePrice(RentalTerm $term, Company $lessee, int $periodCount): array
    {
        // 1. –†–∞—Å—á—ë—Ç –±–∞–∑–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
        // 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Ü–µ–Ω–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
        // 3. –†–∞—Å—á—ë—Ç —Å–∫–∏–¥–∫–∏ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞
        // 4. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π —Ü–µ–Ω—ã
    }
}
–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –£–ü–î:

–ê–∫—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Üî –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å

–ê–∫—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Üî –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É:

–ü—Ä–∏—ë–º –æ–ø–ª–∞—Ç –æ—Ç –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ (Stripe/–ÆKassa)

–í—ã–ø–ª–∞—Ç—ã –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è–º (Tinkoff Business API)

–°—Ç–∞—Ç—É—Å –≤—ã–ø–ª–∞—Ç –≤ –∑–∞–∫–∞–∑–∞—Ö

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–∞–±–∏–Ω–µ—Ç:

–î–∞—à–±–æ—Ä–¥ –¥–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π

–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–ª–∞—Ç–∞–º–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç:

–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –£–ü–î

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≠–î–û (–ö–æ–Ω—Ç—É—Ä.–î–∏–∞–¥–æ–∫)

–ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

markdown
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –≤ –ë–î
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞—Ü–µ–Ω–æ–∫: `platform_markups_platform_id_markupable_index`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø–µ—Ä–∏–æ–¥–∞ –∞—Ä–µ–Ω–¥—ã (—á–∞—Å—ã/—Å–º–µ–Ω—ã/–¥–Ω–∏)
- –°–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–æ—Ä–æ—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–π –¥–ª—è —Å–∫–∏–¥–æ–∫
–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

php
$platform = [
    'name' => '–û–û–û ¬´–ê–ù–õ–ò–ú–ò–¢ –ü–ê–†–¢–°¬ª',
    'inn' => '9723125209',
    'kpp' => '772301001',
    'ogrn' => '1217700452133',
    'legal_address' => '109390, –ú–æ—Å–∫–≤–∞ –ì., —É–ª. –õ—é–±–ª–∏–Ω—Å–∫–∞—è, –¥. 47 –ø–æ–º. IX, –∫–æ–º. 1',
    'bank_details' => [
        'name' => '–û–û–û "–ë–∞–Ω–∫ –¢–æ—á–∫–∞"',
        'account' => '40702810301500108320',
        'bic' => '044525104'
    ]
];
–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:

bash
php artisan make:pdf UPDPdfGenerator
php artisan make:payment PaymentProcessor
php artisan make:controller LessorDashboardController
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–º —á–∞—Ç–µ:
–ù–∞—á–Ω–∏ —Å: "–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∞—Ä–µ–Ω–¥—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏"

–í—Å—Ç–∞–≤—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –±–ª–æ–∫

–£—Ç–æ—á–Ω–∏ —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É, –Ω–∞–ø—Ä–∏–º–µ—Ä:
"–ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –£–ü–î –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF"
–∏–ª–∏
"–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ÆKassa –¥–ª—è –ø—Ä–∏—ë–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π"

–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞:

–ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ DomPDF –∏–ª–∏ Laravel PDF)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (–ø–∞–∫–µ—Ç—ã Laravel Cashier –∏–ª–∏ YooKassa SDK)

–†–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ –¥–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π
